<section class="forgot-password-section">
  <div class="container">
    <div class="forgot-password-container">
      <div class="forgot-password-header">
        <h1>Forgot Password</h1>
        <p>Enter your email to reset your password</p>
      </div>

      <form [formGroup]="forgotForm" (ngSubmit)="handleForgotPassword()" class="forgot-password-form">
        <div class="form-group">
          <label for="email">Email Address</label>
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input
              formControlName="email"
              id="email"
              type="email"
              placeholder="Enter your email"
            />
          </div>
          <ng-container *ngIf="f['email'].errors && (f['email'].value.length || f['email'].touched)">
            <p class="error-message" *ngIf="f['email'].getError('required')">
              Email is required
            </p>
            <p class="error-message" *ngIf="f['email'].getError('email')">
              Please enter a valid email
            </p>
          </ng-container>
        </div>

        <button 
          type="submit" 
          class="btn-reset" 
          [disabled]="forgotForm.invalid || isLoading"
        >
          <span *ngIf="!isLoading">Reset Password</span>
          <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>
        </button>

        <p class="error-message text-center" *ngIf="errMsg">
          {{ errMsg }}
        </p>

        <p class="login-link">
          Remember your password? 
          <a routerLink="/login">Sign in</a>
        </p>
      </form>
    </div>
  </div>
</section>
